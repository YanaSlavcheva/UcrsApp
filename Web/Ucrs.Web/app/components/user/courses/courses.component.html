<h2>Courses</h2>

<div>Max number of course point a user can collect: 100</div>

<p>
    <a routerLink="/user/course-create">Create New</a>
</p>

<div *ngIf="errorMessage" class="text-danger">{{errorMessage}}</div>
<div *ngIf="infoMessage" class="text-info">{{infoMessage}}</div>

<table class="table">
    <thead>
        <tr>
            <th>Title</th>
            <th>Points</th>
            <th>Am I registered</th>
            <th></th>
            <th>All registered students</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngIf="!courses.length">
            <td colspan="3" class="text-center">
                <em>No Courses...</em>
            </td>
        </tr>

        <tr *ngFor="let course of courses">
            <td>{{course.title}}</td>
            <td>
                <span *ngIf="course.points" class="label label-default">{{course.points}}</span>
            </td>
            <td>
                <span *ngIf="course.isUserRegistered" class="label label-success">Yes</span>
                <span *ngIf="!course.isUserRegistered" class="label label-warning">No</span>
            </td>
            <td>
                <button  *ngIf="!course.isUserRegistered" (click)="registerForCourse(course)" class="btn btn-sm btn-success">
                    Register for course
                </button>
            </td>
            <td>
                <span>
                    {{course.userNamesList}}
                </span>
            </td>
        </tr>
    </tbody>
</table>
